<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>practice</h1>
</body>
<script>

    /*
      //question 1
      const load = async (src) => {
  
          return new Promise((resolve, reject) => {
  
              let script = document.createElement("script");
              script.src = src;
              script.onload = () => {
                  resolve("done");
              }
              document.body.append(script);
          });
  
          // let script = document.createElement("script");
          // script.src = src;
          // script.onload = () => {
          //     return "done";
          // }
          // document.body.append(script);
          // return "complete";
  
      }
  
      // let p = load("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js");
      // p.then(alert);
  
      load("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js").then(alert);
  
  */

    /*
        //question3
        let func = async () => {
    
    
            return  new Promise((resolve, reject) => {
                setTimeout(() => {
                    reject(new Error("this is error"));
                }, 1000);
            })
    
        }
        main2 = async () => {
            try {
                console.log("hiiiii");
                let result = await func();
                // console.log(result);
                
                
            } catch (error) {
                console.log("this is getting error " + error);
    
            }
        }
        main2();
    
    */


    //question 4
    
    let p1 = () => {

        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log("p1");
                resolve("p1");
            }, 2000);
        });
    }
    let p2 = () => {

        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log("p2");
                resolve("p2");

            }, 1000);
        });
    }
    let p3 = () => {

        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log("p3");
                resolve("p3");

            }, 3000);
        });
    }
    
  
    /*
    let p1 = new Promise((resolve,reject)=>{
        setTimeout(() => {
            console.log("p1");
            resolve("p1");
        }, 10000);
    });

    let p2 = new Promise((resolve,reject)=>{
        setTimeout(() => {
            console.log("p2");
            console.log("hello motto");
            resolve("p2");

        }, 1000);
    });
    let p3 = new Promise((resolve,reject)=>{
        setTimeout(() => {
            console.log("p3");
            console.log("hello motto");
            
            resolve("p3");

        }, 3000);
    });
    */

    console.log("i am independent bro");
    
    const func = async () => {

        console.time("checkign running time");
        /*
        console.time("checkign running time");
        let a1 = await p1();
        // let a1 = await p1;
        console.log("too time");
        
        console.log("p1 value is = "+a1);
        
        let a2 = await p2();
        // let a2 = await p2;
        console.log("p2 value is = "+a2);
        
        let a3 = await p3();
        // let a3 = await p3;
        console.log("p3 value is = "+a3);
        
        console.log("a1 a2 a3 values are =  "+a1, a2, a3);
        console.timeEnd("checking running time");
        //this is taking much time , instead of this we should use await infront of promise all 
       */ 

        let a1 = p1();
        let a2 = p2();
        let a3 = p3();
        let promiseAll = await Promise.all([a1,a2,a3]);
       console.log("the all values are = ");
       
       console.log(promiseAll);
       
       console.timeEnd("checkign running time");

    }
    func();
</script>

</html>